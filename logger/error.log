{"body":{"app":"pxi","userId":""},"ip":"::1","level":"error","message":"Invalid payload","method":"POST","path":"/api/v1/subscribe","stack":["at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","at middleware (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-validator@7.0.1\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:144:13)","at Layer.handle [as handle_request] (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\layer.js:95:5)","at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at expressValidatorHandler (D:\\Work\\chh-push-notification\\dist\\middlewares\\validation-error-handler.js:9:15)"],"timestamp":"2023-11-15T09:40:58.751Z"}
{"body":{"app":"","userId":"987654321069"},"ip":"::1","level":"error","message":"Invalid payload","method":"POST","path":"/api/v1/subscribe","stack":["at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","at middleware (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-validator@7.0.1\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:144:13)","at Layer.handle [as handle_request] (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\layer.js:95:5)","at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at expressValidatorHandler (D:\\Work\\chh-push-notification\\dist\\middlewares\\validation-error-handler.js:9:15)"],"timestamp":"2023-11-15T09:41:30.287Z"}
{"body":{"app":"","userId":"987654321069"},"ip":"::1","level":"warn","message":"Invalid payload","method":"POST","path":"/api/v1/subscribe","stack":["at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","at middleware (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-validator@7.0.1\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:144:13)","at Layer.handle [as handle_request] (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\layer.js:95:5)","at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at expressValidatorHandler (D:\\Work\\chh-push-notification\\dist\\middlewares\\validation-error-handler.js:9:15)"],"timestamp":"2023-11-15T09:52:06.518Z"}
{"body":{"app":"","userId":"987654321069"},"ip":"::1","level":"warn","message":"Invalid payload","method":"POST","path":"/api/v1/subscribe","stack":["at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","at middleware (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-validator@7.0.1\\node_modules\\express-validator\\src\\middlewares\\check.js:16:13)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:144:13)","at Layer.handle [as handle_request] (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\layer.js:95:5)","at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at expressValidatorHandler (D:\\Work\\chh-push-notification\\dist\\middlewares\\validation-error-handler.js:9:15)"],"timestamp":"2023-11-15T09:53:06.935Z"}
{"body":{},"ip":"::1","level":"error","message":"test error","method":"GET","path":"/api/v1/test_endpoint","stack":["at Layer.handle [as handle_request] (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\layer.js:95:5)","at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at D:\\Work\\chh-push-notification\\dist\\app.js:48:5","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\index.js:280:10)","at Function.process_params (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\index.js:346:12)","at D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\index.js:286:9","at trim_prefix (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\index.js:328:13)","at Layer.handle [as handle_request] (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\layer.js:95:5)","at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at D:\\Work\\chh-push-notification\\dist\\app.js:56:11"],"timestamp":"2023-11-15T09:53:50.862Z"}
{"body":{},"ip":"::1","level":"error","message":"Cannot read properties of undefined (reading 'publicKey')","method":"GET","path":"/api/v1/subscribe","stack":["at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at Route.dispatch (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:114:3)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:144:13)","at Layer.handle [as handle_request] (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\layer.js:95:5)","at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at getServerPubKey (D:\\Work\\chh-push-notification\\dist\\controllers\\subscribe.controller.js:65:49)"],"timestamp":"2023-11-20T02:09:22.591Z"}
{"body":{},"ip":"::1","level":"error","message":"Cannot destructure property 'publicKey' of 'req.webpush.vapidKeys' as it is undefined.","method":"GET","path":"/api/v1/subscribe","stack":["at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at Route.dispatch (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:114:3)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:144:13)","at Layer.handle [as handle_request] (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\layer.js:95:5)","at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at getServerPubKey (D:\\Work\\chh-push-notification\\dist\\controllers\\subscribe.controller.js:65:13)"],"timestamp":"2023-11-20T02:11:46.300Z"}
{"body":{},"ip":"::1","level":"error","message":"You must pass in a subscription with at least an endpoint.","method":"GET","path":"/api/v1/subscribe","stack":["at Route.dispatch (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:114:3)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:140:7)","at next (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\route.js:144:13)","at Layer.handle [as handle_request] (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express@4.18.2\\node_modules\\express\\lib\\router\\layer.js:95:5)","at newFn (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\express-async-errors@3.1.1_express@4.18.2\\node_modules\\express-async-errors\\index.js:16:20)","at getServerPubKey (D:\\Work\\chh-push-notification\\dist\\controllers\\subscribe.controller.js:66:29)","at WebPushLib.generateRequestDetails (D:\\Work\\chh-push-notification\\node_modules\\.pnpm\\web-push@3.6.6\\node_modules\\web-push\\src\\web-push-lib.js:87:13)"],"timestamp":"2023-11-20T02:13:52.878Z"}
